<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Komu Host</title>
</head>
<style>
    .container{
        padding-top: 3rem; 
    }
    .imghost{
        display: grid; /* Establishes a grid container */
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Creates a responsive grid with columns that are at least 300px wide */
        gap: 2rem; /* Adds space between grid items */
        padding: 2rem; /* Adds padding inside the grid container */
        max-width: 1200px; /* Sets a maximum width for the content */
        margin: 0 auto; /* Centers the grid container on the page */
    }
    .image{
        width: 100%; /* Makes the media fill the container's width */
        height: 18rem; /* Sets a fixed height */
        object-fit: cover; /* Ensures the media covers the area without distortion */
        border-radius: 7px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Adds a subtle shadow for depth */
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for hover effects */
    }
    .image:hover {
        transform: scale(1.03); /* Slightly enlarges the item on hover */
        box-shadow: 0 8px 16px rgba(0,0,0,0.2); /* Increases the shadow on hover */
    }
    body {
        font-family: sans-serif;
        background-color: #f4f7f6;
        margin: 0;
        color: #333;
    }
    .video {
        cursor: pointer;
    }
    .video-container {
        position: relative;
        /* The container should not have a fixed height, let the video define it */
    }
    .video-container:hover .video-controls {
        opacity: 1; /* Show controls on hover */
    }
    /* --- Fullscreen Adjustments --- */
    .video-container:fullscreen {
        background-color: black; /* Ensure a black background for letterboxing */
    }
    .video-container:fullscreen .video {
        height: 100%;
        object-fit: contain; /* Fit video within the screen without cropping */
    }
    .video-controls {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        padding-top: 5px; /* Make top padding smaller */
        background-color: rgba(0, 0, 0, 0.6);
        border-bottom-left-radius: 7px;
        border-bottom-right-radius: 7px;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 1;
    }
    .control-btn {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        padding: 0;
        width: 36px; /* Give buttons a fixed size */
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .control-btn:hover {
        color: #aaa;
    }
    .control-btn svg {
        width: 24px; /* Control icon size */
        height: 24px;
        fill: currentColor;
    }
    /* --- Volume Controls --- */
    .volume-container {
        display: flex;
        align-items: center;
    }
    .volume-slider {
        width: 0;
        max-width: 100px;
        height: 5px;
        opacity: 0;
        transition: width 0.3s ease, opacity 0.3s ease;
        cursor: pointer;
        -webkit-appearance: none;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 5px;
    }
    .volume-container:hover .volume-slider {
        width: 80px;
        opacity: 1;
    }
    .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 15px;
        height: 15px;
        background: white;
        border-radius: 50%;
    }
    .volume-slider::-moz-range-thumb {
        width: 15px;
        height: 15px;
        background: white;
        border-radius: 50%;
        border: none;
    }

    /* --- Timeline / Progress Bar --- */
    .timeline-container {
        flex-grow: 1;
        height: 5px;
        background-color: rgba(255, 255, 255, 0.3);
        cursor: pointer;
        border-radius: 5px;
        margin: 0 15px;
        transition: height 0.2s ease;
    }
    .timeline-container:hover {
        height: 8px; /* Make bar thicker on hover */
    }
    .progress-bar {
        height: 100%;
        width: 0;
        background-image: linear-gradient(to right, #00ac9d 0%, #0056e4 50%, #7d59da 75%, #e81ca3 100%);/* A vibrant accent color */
        border-radius: 5px;
        position: relative;
        transition: width 0.1s linear; /* Smooth transition for progress bar updates */
    }
    .progress-bar::after { /* Seek-indicator thumb */
        content: '';
        position: absolute;
        right: -6px;
        top: 50%;
        transform: translateY(-50%) scale(0);
        width: 12px;
        height: 12px;
        background-color: white;
        border-radius: 50%;
        transition: transform 0.2s ease;
    }
    .timeline-container:hover .progress-bar::after {
        transform: translateY(-50%) scale(1);
    }
    /* --- Loading Animation --- */
    .loading-spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 60px;
        height: 60px;
        z-index: 2; /* Above video, below controls */
        display: none; /* Hidden by default */
    }
    .loading-spinner path {
        fill: none;
        stroke-width: 6;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-dasharray: 150; /* Approximate total length of the path */
        stroke-dashoffset: 150;
        animation: draw-k 1.5s ease-in-out infinite;
    }
    @keyframes draw-k {
        50% {
            stroke-dashoffset: 0;
        }
        100% {
            stroke-dashoffset: -150;
        }
    }
    /* --- Play/Pause Overlay Icon --- */
    .play-pause-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2; /* Above video, below controls */
        pointer-events: none; /* Allow clicks to pass through to the video */
        opacity: 0; /* Hidden by default */
        transition: opacity 0.3s ease; /* Smooth fade */
        display: flex; /* To center the SVG within it */
        align-items: center;
        justify-content: center;
    }
    .play-pause-overlay svg {
        width: 80px; /* Large size */
        height: 80px;
        fill: rgba(255, 255, 255, 0.8); /* White, semi-transparent */
    }
    .overlay-pause-icon { display: none; } /* Initially show play icon */
    /* Hide icons by default, JS will show the correct one */
    .pause-icon, .volume-muted-icon, .fullscreen-exit-icon {
        display: none;
    }
    /* --- Header and Logo --- */
    .page-header {
        display: flex;
        justify-content: left;
        align-items: left;
        position: fixed;
        top: 0;
        width: 100%;
        background-color: #fff;
        left: 0;
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 0.5rem 2rem;
    }
    .logo {
        height: 50px;
    }
</style>
<body>
    <header class="page-header">
        <img src="logo1.png" alt="Komu Host Logo" class="logo">
    </header>
    <div class="container">
        <h1 style="text-align: center; padding-top: 2rem;">My Hosted Files</h1>
        <div class="imghost">
            <div>
            <img src="img1.jpg" alt="" class="image">
            </div>

            <div>
            <img src="img1.jpg" alt="" class="image">
            </div>

            <div>
            <img src="img1.jpg" alt="" class="image">
            </div>
            
            <div>
            <img src="img1.jpg" alt="" class="image">
            </div>
            
                <!-- Player Instance 1 -->
                <div class="video-container">
                    <div class="loading-spinner">
                        <svg viewBox="0 0 50 50">
                            <defs>
                                <linearGradient id="k-gradient" x1="0%" y1="100%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#e81ca3" />
                                    <stop offset="50%" stop-color="#7d59da" />
                                    <stop offset="100%" stop-color="#00ac9d" />
                                </linearGradient>
                            </defs>
                            <path d="M12 10 V 40 M12 25 L 34 10 M12 25 L 34 40" stroke="url(#k-gradient)"/>
                        </svg>
                    </div>
                    <div class="play-pause-overlay">
                        <svg class="overlay-play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg class="overlay-pause-icon" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                    </div>
                    <video src="vid1.mp4" poster="image.png" class="image video"></video>
                    <div class="video-controls">
                        <button class="control-btn play-pause-btn" title="Play/Pause">
                            <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="control-btn rewind-btn" title="Rewind 10s">
                            <svg viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm-8.5-6 8.5 6V6l-8.5 6z"/></svg>
                        </button>
                        <div class="volume-container">
                            <button class="control-btn volume-btn" title="Mute/Unmute">
                                <svg class="volume-high-icon" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                                <svg class="volume-muted-icon" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
                            </button>
                            <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
                        </div>
                        <div class="timeline-container">
                            <div class="progress-bar"></div>
                        </div>
                        <button class="control-btn fast-forward-btn" title="Forward 10s">
                            <svg viewBox="0 0 24 24"><path d="m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg>
                        </button>
                        <button class="control-btn fullscreen-btn" title="Fullscreen" style="margin-left: auto;">
                            <svg class="fullscreen-enter-icon" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                            <svg class="fullscreen-exit-icon" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>
                        </button>
                    </div>
                </div>
                                <div class="video-container">
                    <div class="loading-spinner">
                        <svg viewBox="0 0 50 50">
                            <defs>
                                <linearGradient id="k-gradient-2" x1="0%" y1="100%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#e81ca3" />
                                    <stop offset="50%" stop-color="#7d59da" />
                                    <stop offset="100%" stop-color="#00ac9d" />
                                </linearGradient>
                            </defs>
                            <path d="M12 10 V 40 M12 25 L 34 10 M12 25 L 34 40" stroke="url(#k-gradient-2)"/>
                        </svg>
                    </div>
                    <div class="play-pause-overlay">
                        <svg class="overlay-play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg class="overlay-pause-icon" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                    </div>
                    <video src="vid1.mp4" poster="image.png" class="image video"></video>
                    <div class="video-controls">
                        <button class="control-btn play-pause-btn" title="Play/Pause">
                            <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="control-btn rewind-btn" title="Rewind 10s">
                            <svg viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm-8.5-6 8.5 6V6l-8.5 6z"/></svg>
                        </button>
                        <div class="volume-container">
                            <button class="control-btn volume-btn" title="Mute/Unmute">
                                <svg class="volume-high-icon" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                                <svg class="volume-muted-icon" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
                            </button>
                            <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
                        </div>
                        <div class="timeline-container">
                            <div class="progress-bar"></div>
                        </div>
                        <button class="control-btn fast-forward-btn" title="Forward 10s">
                            <svg viewBox="0 0 24 24"><path d="m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg>
                        </button>
                        <button class="control-btn fullscreen-btn" title="Fullscreen" style="margin-left: auto;">
                            <svg class="fullscreen-enter-icon" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                            <svg class="fullscreen-exit-icon" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Find all video containers on the page
            document.querySelectorAll('.video-container').forEach(videoContainer => {
                // Find elements specific to this video container
                const video = videoContainer.querySelector('.video');
                const controls = videoContainer.querySelector('.video-controls');
                const playPauseBtn = videoContainer.querySelector('.play-pause-btn');
                const rewindBtn = videoContainer.querySelector('.rewind-btn');
                const fastForwardBtn = videoContainer.querySelector('.fast-forward-btn');
                const fullscreenBtn = videoContainer.querySelector('.fullscreen-btn');
                const playIcon = videoContainer.querySelector('.play-icon');
                const pauseIcon = videoContainer.querySelector('.pause-icon');
                const fullscreenEnterIcon = videoContainer.querySelector('.fullscreen-enter-icon');
                const fullscreenExitIcon = videoContainer.querySelector('.fullscreen-exit-icon');
                const volumeBtn = videoContainer.querySelector('.volume-btn');
                const volumeHighIcon = videoContainer.querySelector('.volume-high-icon');
                const volumeMutedIcon = videoContainer.querySelector('.volume-muted-icon');
                const volumeSlider = videoContainer.querySelector('.volume-slider');
                const timelineContainer = videoContainer.querySelector('.timeline-container');
                const progressBar = videoContainer.querySelector('.progress-bar');
                const loader = videoContainer.querySelector('.loading-spinner');
                const playPauseOverlay = videoContainer.querySelector('.play-pause-overlay');
                const overlayPlayIcon = videoContainer.querySelector('.overlay-play-icon');
                const overlayPauseIcon = videoContainer.querySelector('.overlay-pause-icon');
                let isSeeking = false;
                let controlsTimeout;
                let lastTap = 0;
                let loadingTimeout;

                // --- Play/Pause ---
                function togglePlay() {
                    if (video.paused || video.ended) {
                        video.play();
                    } else {
                        video.pause();
                        showOverlayIcon('pause');
                    }
                }

                // On desktop, a single click on the video toggles play.
                // On mobile, this is handled by the double-tap logic below.
                if (!('ontouchstart' in window)) {
                    video.addEventListener('click', togglePlay);
                }

                playPauseBtn.addEventListener('click', togglePlay);

                videoContainer.addEventListener('click', () => {
                    if ('ontouchstart' in window) showControls();
                });

                video.addEventListener('play', () => {
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                    showOverlayIcon('play');
                    loader.style.display = 'none';
                });

                video.addEventListener('pause', () => {
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                    showOverlayIcon('pause');
                    loader.style.display = 'none';
                });

                // --- Rewind & Fast Forward ---
                rewindBtn.addEventListener('click', () => video.currentTime -= 10);
                fastForwardBtn.addEventListener('click', () => video.currentTime += 10);

                // --- Fullscreen ---
                fullscreenBtn.addEventListener('click', () => {
                    if (!document.fullscreenElement) {
                        videoContainer.requestFullscreen();
                    } else {
                        document.exitFullscreen();
                    }
                });

                document.addEventListener('fullscreenchange', () => {
                    const isFullscreen = !!document.fullscreenElement;
                    fullscreenEnterIcon.style.display = isFullscreen ? 'none' : 'block';
                    fullscreenExitIcon.style.display = isFullscreen ? 'block' : 'none';
                });

                // --- Volume Controls ---
                volumeBtn.addEventListener('click', () => video.muted = !video.muted);

                volumeSlider.addEventListener('input', (e) => {
                    video.volume = e.target.value;
                    video.muted = e.target.value === 0;
                });

                video.addEventListener('volumechange', () => {
                    volumeSlider.value = video.volume;
                    const isMuted = video.muted || video.volume === 0;
                    volumeHighIcon.style.display = isMuted ? 'none' : 'block';
                    volumeMutedIcon.style.display = isMuted ? 'block' : 'none';
                });

                // --- Timeline / Progress Bar ---
                video.addEventListener('timeupdate', () => {
                    const percent = (video.currentTime / video.duration) * 100;
                    progressBar.style.width = `${percent}%`;
                });

                function seek(e) {
                    const timelineWidth = timelineContainer.clientWidth;
                    // For touch events, we need to calculate the position relative to the timeline container
                    const rect = timelineContainer.getBoundingClientRect();
                    const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                    let offsetX = clientX - rect.left;

                    // Clamp the value between 0 and the timeline width
                    offsetX = Math.max(0, Math.min(offsetX, timelineWidth));

                    video.currentTime = (offsetX / timelineWidth) * video.duration;
                }

                // --- Timeline Dragging for Mouse and Touch ---
                function startSeeking(e) {
                    isSeeking = true;
                    seek(e.type.includes('touch') ? e.touches[0] : e);
                }

                function whileSeeking(e) {
                    if (isSeeking) {
                        // Prevent page scroll on mobile while seeking
                        e.preventDefault();
                        seek(e.type.includes('touch') ? e.touches[0] : e);
                    }
                }

                function stopSeeking() {
                    isSeeking = false;
                }

                timelineContainer.addEventListener('mousedown', startSeeking);
                document.addEventListener('mousemove', whileSeeking);
                document.addEventListener('mouseup', stopSeeking);

                timelineContainer.addEventListener('touchstart', startSeeking);
                document.addEventListener('touchmove', whileSeeking, { passive: false });
                document.addEventListener('touchend', stopSeeking);

                // --- Show/Hide Controls ---
                function showControls() {
                    clearTimeout(controlsTimeout);
                    controls.style.opacity = '1';
                    hideControlsAfterDelay();
                }

                function hideControlsAfterDelay() {
                    if (video.paused) return; // Don't hide if paused
                    clearTimeout(controlsTimeout);
                    controlsTimeout = setTimeout(() => {
                        controls.style.opacity = '0';
                    }, 3000); // Hide after 3 seconds
                }

                videoContainer.addEventListener('mousemove', showControls);
                videoContainer.addEventListener('mouseleave', () => { if (!video.paused) controls.style.opacity = '0'; });
                video.addEventListener('pause', showControls);
                video.addEventListener('play', hideControlsAfterDelay);

                // Double-tap to play/pause on touch devices
                videoContainer.addEventListener('touchend', (e) => {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;
                    if (tapLength < 300 && tapLength > 0) {
                        // It's a double tap
                        e.preventDefault(); // Prevent the single-click handler from firing
                        togglePlay();
                    }
                    lastTap = currentTime;
                });


                controls.addEventListener('click', (e) => e.stopPropagation());

                // --- Loading Spinner Events ---
                video.addEventListener('waiting', () => {
                    // Only show the loader if buffering takes more than 2 seconds
                    clearTimeout(loadingTimeout);
                    loadingTimeout = setTimeout(() => {
                        loader.style.display = 'block';
                    }, 2000);
                });
                video.addEventListener('playing', () => {
                    // Hide loader and clear timer when playback resumes
                    clearTimeout(loadingTimeout);
                    loader.style.display = 'none';
                });

                // --- Play/Pause Overlay Icon Logic ---
                function showOverlayIcon(type) {
                    overlayPlayIcon.style.display = (type === 'play') ? 'block' : 'none';
                    overlayPauseIcon.style.display = (type === 'pause') ? 'block' : 'none';
                    playPauseOverlay.style.opacity = '1';

                    // Fade out after a short delay
                    clearTimeout(playPauseOverlay.fadeTimeout);
                    playPauseOverlay.fadeTimeout = setTimeout(() => {
                        playPauseOverlay.style.opacity = '0';
                    }, 700); // Icon visible for 0.7 seconds
                }
                // Hide overlay initially
                playPauseOverlay.style.opacity = '0';

            });
        });
    </script>
</body>
</html>